<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>跟随鼠标花瓣下落</title>
    <style>
        *{margin:0;padding:0;}
        html,body{width:100%;height:100%;}
        div{width:5px;height:5px;position:absolute;}
    </style>

    <script type="text/javascript">

        function domousemove(e){
            var _flower=document.createElement("div");
            e=e||event;
            _flower.style.backgroundColor="rgb("+Math.floor(Math.random()*256)+","+Math.floor(Math.random()*256)+","+Math.floor(Math.random()*256)+")";
            //_flower.style.backgroundColor="#f00";
            _flower.style.left=e.offsetX+"px";
            _flower.style.top=e.offsetY+"px";
            return _flower;
        };
        function drop(){

            var _flowers=document.getElementsByTagName("div");
            var _height=document.documentElement.clientHeight||docuement.body.clientHeight;
            var timer=setInterval(function(){
                for (var i = 0; i < _flowers.length; i++) {
                    _flowers[i].style.top=_flowers[i].offsetTop+5+"px" ;
                    if (_flowers[i].offsetTop> _height) {
                        document.getElementsByTagName("body")[0].removeChild(_flowers[i]);
                    }
                }
            },30);
            
        }
        window.onload=function(){
            var _body=document.getElementsByTagName("body")[0];
            _body.onmousemove=function(){
                _body.appendChild(domousemove());
               
            };   
            drop();
        };
    </script>
</head>
<body>
    
</body>
</html>